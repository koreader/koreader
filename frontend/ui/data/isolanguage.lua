local _ = require("gettext")

local locale_lang_map = {
    -- from https://iso639-3.sil.org/sites/iso639-3/files/downloads/iso-639-3.tab
    -- first chunk of names are languages present in iso-639-1
    aar = "Afar",
    afr = "Afrikaans",
    ara = "Arabic", -- macrolanguage
    asm = "Assamese",
    aze = "Azerbaijani", -- macrolanguage
    bak = "Bashkir",
    bel = "Belarusian",
    ben = "Bengali",
    bod = "Tibetan",
    bre = "Breton",
    bul = "Bulgarian",
    ces = "Czech",
    chu = "Church Slavic",
    cor = "Cornish",
    cym = "Welsh",
    dan = "Danish",
    deu = "German",
    div = "Dhivehi",
    ell = "Modern Greek", -- (1453-)
    eng = "English",
    epo = "Esperanto", -- constructed language
    est = "Estonian", -- macrolanguage
    eus = "Basque",
    fao = "Faroese",
    fas = "Persian", -- macrolanguage
    fin = "Finnish",
    fra = "French",
    fry = "Western Frisian",
    gla = "Scottish Gaelic",
    gle = "Irish",
    glg = "Galician",
    glv = "Manx",
    guj = "Gujarati",
    hat = "Haitian",
    hau = "Hausa",
    hbs = "Serbo-Croatian", -- macrolanguage
    heb = "Hebrew",
    hin = "Hindi",
    hun = "Hungarian",
    hye = "Armenian",
    ido = "Ido", -- constructed language
    ina = "Interlingua", -- (International Auxiliary Language Association) constructed language
    ind = "Indonesian",
    isl = "Icelandic",
    ita = "Italian",
    jav = "Javanese",
    jpn = "Japanese",
    kal = "Kalaallisut",
    kan = "Kannada",
    kas = "Kashmiri",
    kat = "Georgian",
    kaz = "Kazakh",
    khm = "Khmer",
    kik = "Kikuyu",
    kir = "Kirghiz",
    kor = "Korean",
    kur = "Kurdish", -- macrolanguage
    lao = "Lao",
    lat = "Latin",
    lav = "Latvian", -- macrolanguage
    lit = "Lithuanian",
    ltz = "Luxembourgish",
    mah = "Marshallese",
    mal = "Malayalam",
    mar = "Marathi",
    mkd = "Macedonian",
    mlg = "Malagasy", -- macrolanguage
    mlt = "Maltese",
    mon = "Mongolian", -- macrolanguage
    mri = "Maori",
    msa = "Malay", -- macrolanguage
    mya = "Burmese",
    nav = "Navajo",
    nld = "Dutch",
    nno = "Norwegian Nynorsk",
    nob = "Norwegian Bokmål",
    nor = "Norwegian", -- macrolanguage
    oci = "Occitan", -- (post 1500)
    orm = "Oromo", -- macrolanguage
    pan = "Panjabi",
    pli = "Pali",
    pol = "Polish",
    por = "Portuguese",
    pus = "Pushto", -- macrolanguage
    que = "Quechua", -- macrolanguage
    roh = "Romansh",
    ron = "Romanian",
    rus = "Russian",
    san = "Sanskrit",
    slk = "Slovak",
    slv = "Slovenian",
    spa = "Spanish",
    sqi = "Albanian", -- macrolanguage
    srp = "Serbian",
    ssw = "Swati",
    sun = "Sundanese",
    swa = "Swahili", -- macrolanguage
    swe = "Swedish",
    tam = "Tamil",
    tat = "Tatar",
    tel = "Telugu",
    tgk = "Tajik",
    tgl = "Tagalog",
    tha = "Thai",
    tur = "Turkish",
    uig = "Uighur",
    ukr = "Ukrainian",
    urd = "Urdu",
    uzb = "Uzbek", -- macrolanguage
    vie = "Vietnamese",
    vol = "Volapük", -- constructed language
    wln = "Walloon",
    xho = "Xhosa",
    yid = "Yiddish", -- macrolanguage
    yor = "Yoruba",
    zha = "Zhuang", -- macrolanguage
    zho = "Chinese", -- macrolanguage
    zul = "Zulu",

    -- second chunk of names are languages present in iso-639-2
    -- this is only as complete as it needs to be to cover the languages in dictionaries.lua
    ady = "Adyghe",
    alt = "Southern Altai",
    ang = "Old English", -- (ca. 450-1100)
    arc = "Official Aramaic", -- (700-300 BCE)
    ast = "Asturian",
    bik = "Bikol", -- macrolanguage
    ceb = "Cebuano",
    chr = "Cherokee",
    cop = "Coptic",
    crh = "Crimean Tatar",
    dsb = "Lower Sorbian",
    dum = "Middle Dutch", -- (ca. 1050-1350)
    enm = "Middle English", --  (1100-1500)
    frm = "Middle French", -- (ca. 1400-1600)
    fro = "Old French", -- (842-ca. 1400)
    fur = "Friulian",
    goh = "Old High German", -- (ca. 750-1050)
    got = "Gothic",
    grc = "Ancient Greek", -- (to 1453)
    gsw = "Swiss German",
    haw = "Hawaiian",
    hil = "Hiligaynon",
    kum = "Kumyk",
    lad = "Ladino",
    mnc = "Manchu",
    nds = "Low German",
    non = "Old Norse",
    ota = "Ottoman Turkish", -- (1500-1928)
    rup = "Macedo-Romanian",
    sah = "Yakut",
    scn = "Sicilian",
    sco = "Scots",
    sga = "Old Irish", -- (to 900)
    shn = "Shan",
    sux = "Sumerian",
    syc = "Classical Syriac",
    tpi = "Tok Pisin",

    -- third chunk of names are only present in iso639-3 standard
    -- this is only as complete as it needs to be to cover the languages in dictionaries.lua
    aii = "Assyrian Neo-Aramaic",
    apc = "Levantine Arabic",
    ary = "Moroccan Arabic",
    bnt = "Bantu",
    cim = "Cimbrian",
    cmn = "Mandarin Chinese",
    dlm = "Dalmatian",
    hrx = "Hunsrik",
    izh = "Ingrian",
    jje = "Jejueo",
    kea = "Kabuverdianu",
    lld = "Ladin",
    lzz = "Laz",
    mch = "Maquiritari",
    nch = "Central Huasteca Nahuatl",
    nci = "Classical Nahuatl",
    nrf = "Jèrriais", -- Norman
    pdc = "Pennsylvania German",
    pdt = "Plautdietsch",
    phl = "Phalura",
    stq = "Saterfriesisch", -- Saterland Frisian
    tft = "Ternate",
    txb = "Tokharian B",
    txg = "Tangut",
    vec = "Venetian",
    vep = "Veps",
    wym = "Wymysorys", -- Vilamovian
    xcl = "Classical Armenian",
    yol = "Yola",
    yue = "Yue Chinese",

    -- these are made up language codes for very specific languages which do not map to a specific ISO3 code
    xxpf = "Proto Finnic",
    xxpg = "Proto Germanic",
    xxpw = "Proto West-Germanic",
    xxps = "Proto Sami",
    xxsl = "Proto Slavic",
}

local iso_bcp47_map = {
    aar = "aa",
    afr = "af",
    ara = "ar",
    asm = "as",
    aze = "az",
    bak = "ba",
    bel = "be",
    bul = "bg",
    ben = "bn",
    bod = "bo",
    bre = "br",
    ces = "cs",
    chu = "cu",
    cym = "cy",
    dan = "da",
    deu = "de",
    div = "dv",
    ell = "el",
    eng = "en",
    epo = "eo",
    spa = "es",
    est = "et",
    eus = "eu",
    fas = "fa",
    fin = "fi",
    fao = "fo",
    fra = "fr",
    fry = "fy",
    gle = "ga",
    gla = "gd",
    glg = "gl",
    glv = "gv",
    hau = "ha",
    heb = "he",
    hin = "hi",
    hat = "ht",
    hun = "hu",
    hye = "hy",
    ina = "ia",
    ind = "id",
    ido = "io",
    isl = "is",
    ita = "it",
    jpn = "ja",
    jav = "jv",
    kat = "ka",
    kik = "ki",
    kaz = "kk",
    kal = "kl",
    khm = "km",
    kan = "kn",
    kor = "ko",
    kas = "ks",
    kur = "ku",
    cor = "kw",
    kir = "ky",
    lat = "la",
    ltz = "lb",
    lao = "lo",
    lit = "lt",
    lav = "lv",
    mlg = "mg",
    mah = "mh",
    mri = "mi",
    mkd = "mk",
    mal = "ml",
    mon = "mn",
    mar = "mr",
    msa = "ms",
    mlt = "mt",
    mya = "my",
    nob = "nb",
    nld = "nl",
    nno = "nn",
    nor = "no",
    nav = "nv",
    oci = "oc",
    orm = "om",
    pan = "pa",
    pli = "pi",
    pol = "pl",
    pus = "ps",
    por = "pt",
    que = "qu",
    roh = "rm",
    ron = "ro",
    rus = "ru",
    san = "sa",
    hbs = "sh",
    slk = "sk",
    slv = "sl",
    sqi = "sq",
    srp = "sr",
    ssw = "ss",
    sun = "su",
    swe = "sv",
    swa = "sw",
    tam = "ta",
    tel = "te",
    tgk = "tg",
    tha = "th",
    tgl = "tl",
    tur = "tr",
    tat = "tt",
    uig = "ug",
    ukr = "uk",
    urd = "ur",
    uzb = "uz",
    vie = "vi",
    vol = "vo",
    wln = "wa",
    xho = "xh",
    yid = "yi",
    yor = "yo",
    zha = "za",
    zho = "zh",
    zul = "zu",
}


local IsoLanguage = {}

function IsoLanguage:getLocalizedLanguage(iso3_language)
    local language = locale_lang_map[iso3_language]
    return language or iso3_language
end

function IsoLanguage:getBCPLanguageTag(iso3_language)
    -- BCP47 language tag is either the ISO2 code, or ISO3 if no ISO2 exists for it
    return iso_bcp47_map[iso3_language] or iso3_language
end

return IsoLanguage
